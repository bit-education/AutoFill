## Conclusion



### AI解析稳定性

| 测试用例 |      时间/s      | 准确率  |                         备注                         |
| :------: | :--------------: | :-----: | :--------------------------------------------------: |
|  emory   | 140-150（分6块） | 122/122 |                                                      |
|   nyu    |  19-22（分3块）  |  32/41  |            缺失的9个因html源文件不全导致             |
|  ucla1   |  19-21（分2块）  |  20/21  |            缺失的一个是`search`查询输入框            |
|  ucla2   |  65-83（分5块）  |  90/91  |                     缺失原因同上                     |
|   usc    |  8-10（分2块）   |  18/20  |          缺失的两个`input`标签没有`id`属性           |
|   yale   |  48-52（分3块）  | 78/112  | 缺失的内容中，有的没有`id`属性，有的没有被AI解析出来 |

**补充**：

1. **时间**中`分n块`是指对测试用例进行重叠分块传入AI解析，避免解析结果因文本过长截断或者丢失。
2. **准确率**定义为AI解析结果中，`Label`属性的个数/BeautifulSoup解析结果的总数。
3. 以上测试AI解析稳定性的结果中，各测试用例的结果均随机选取其中一次结果作为记录，可能表现出来的质量不一。
4. AI解析的稳定性一般，可能原因：

   ① AI的局限性

   ② prompt设计问题

   ③ 使用的方法（重叠分块）不够优





### AI解析Token消耗结果

- [ ] 1. 直接解析

| 测试用例 | 输入消耗token数 | 输出消耗token数 | 备注  |
| :------: | :-------------: | :-------------: | :---: |
|   yale   |      7523       |    3900-4100    |       |
|  emory   |      18081      |    4100-4200    | 问题2 |

- [x] 2. 分块解析 

| 测试用例 | 输入消耗token数 | 输出消耗token数 |            备注            |
| :------: | :-------------: | :-------------: | :------------------------: |
|  emory   |   25870-31563   |   13000-15000   |                            |
|   nyu    |    8066-8948    |    1700-1800    |                            |
|  ucla1   |    7290-7300    |    1800-2130    |        基本信息部分        |
|  ucla2   |   25900-26200   |    5800-8700    | 个人简历部分（大多为问题） |
|   usc    |    6601-6636    |     700-900     |           问题1            |
|   yale   |   9889-12156    |    3300-4600    |                            |
| student  |                 |                 |           问题5            |



### 目前存在问题：
- [x] 1. 某些标签中不含id属性，由class属性代替或者只有class属性，会影响AI结果。**(不要求AI对所有内容都要填充，可忽略)**

- [x] 2. AI生成结果会截断。**(已基本解决)**

- [x] 3. Children和Label结果质量不太稳定。**(无法避免)**

- [x] 4. usc测试用例中，对没有label的select标签解析结果质量不好。**(已基本解决)**

- [x] 5. 除英文外的其他语言有编码问题。**(已解决，留学网站大多English Only，这个问题仅仅是测试用例不妥引起的)**
- [x] 6. 通过删除不必要标签后的 html 源码仍然过长或者复杂，导致AI返回的解析结果过长，容易截断或者丢失其中一些html元素，详见`emory_result.json`。**(已解决)**
- [x] 7. AI解析结果的`Label`往往会出现缺少信息问题，例如缺失`checkbox`框或者`radio`框前面的问题信息，详见`yale_result.json`。**(已解决)**

